{"version":3,"file":"background.js","sources":["../../src/background.js"],"sourcesContent":["async function getCurrentTab() {\n  let queryOptions = { active: true, currentWindow: true };\n  let [tab] = await chrome.tabs.query(queryOptions);\n  return tab;\n}\nlet prevTab;\n\nconst activateTab = async (tabId) => {\n  await chrome.storage.local.set({ activeTab: tabId });\n  console.log(tabId);\n  /*\n  chrome.tabs.sendMessage(tabId, { event: \"activated\", tabId });\n  console.log(tabId, \"activated\");\n  if (prevTab) {\n    chrome.tabs.sendMessage(prevTab, { event: \"deactivated\" });\n    console.log(prevTab, \"deactivated\");\n  }\n  prevTab = tabId;\n  */\n};\n\nchrome.runtime.onInstalled.addListener(async () => {\n  const tab = await getCurrentTab();\n  await activateTab(tab.id);\n});\n\nchrome.tabs.onActivated.addListener(async ({ tabId }) => {\n  await activateTab(tabId);\n});\n\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  if (request.event === \"tabId\") {\n    console.log(\"here\", sender);\n    console.log(sendResponse);\n    sendResponse({ tabId: sender.tab.id });\n  }\n});\n\n/*\nchrome.runtime.onMessage.addListener(async (request, sender, sendResponse) => {\n  if (request.event === \"isActive\") {\n    sendResponse({ activated: sender.tab.active, tabId: sender.tab.id });\n  }\n});\n*/\n"],"names":[],"mappings":";;;EAAA,eAAe,aAAa,GAAG;EAC/B,EAAE,IAAI,YAAY,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;EAC3D,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;EACpD,EAAE,OAAO,GAAG,CAAC;EACb,CAAC;AAED;EACA,MAAM,WAAW,GAAG,OAAO,KAAK,KAAK;EACrC,EAAE,MAAM,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;EACvD,EAAE,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;EACrB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,CAAC,CAAC;AACF;EACA,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY;EACnD,EAAE,MAAM,GAAG,GAAG,MAAM,aAAa,EAAE,CAAC;EACpC,EAAE,MAAM,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;EAC5B,CAAC,CAAC,CAAC;AACH;EACA,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK;EACzD,EAAE,MAAM,WAAW,CAAC,KAAK,CAAC,CAAC;EAC3B,CAAC,CAAC,CAAC;AACH;EACA,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,KAAK;EACxE,EAAE,IAAI,OAAO,CAAC,KAAK,KAAK,OAAO,EAAE;EACjC,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;EAChC,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;EAC9B,IAAI,YAAY,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;EAC3C,GAAG;EACH,CAAC,CAAC,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;;;;"}